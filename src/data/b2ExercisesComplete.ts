// B2 Upper-Intermediate Level Exercises - Complete Database for ALL skills
import { Exercise } from "./exercisesData";
import { b2VocabularyExercisesNew } from "./b2VocabularyExercises";

// =====================================================
// B2 GRAMMAR EXERCISES (All 10 categories)
// =====================================================

export const b2GrammarExercisesComplete: Record<string, Exercise[]> = {
  // b2-gram-1: Mixed Conditionals
  "b2-gram-1": [
    { id: "b2-g1-1", type: "multiple-choice", question: "If I ___ harder at school, I would have a better job now.", options: ["studied", "had studied", "have studied", "study"], correctAnswer: "had studied", explanation: "Mixed Conditional: Past action → present result. If + Past Perfect, would + infinitive.", explanationSpanish: "Condicional Mixto: Acción pasada → resultado presente. If + Past Perfect, would + infinitivo.", difficulty: 3, tags: ["conditionals", "mixed", "third-second"] },
    { id: "b2-g1-2", type: "multiple-choice", question: "If she were more careful, she ___ the accident yesterday.", options: ["wouldn't have", "won't have", "didn't have", "wouldn't have had"], correctAnswer: "wouldn't have had", explanation: "Mixed Conditional: Present characteristic → past result.", explanationSpanish: "Condicional Mixto: Característica presente → resultado pasado.", difficulty: 3, tags: ["conditionals", "mixed", "second-third"] },
    { id: "b2-g1-3", type: "multiple-choice", question: "If I hadn't missed the train, I ___ there by now.", options: ["would be", "would have been", "will be", "am"], correctAnswer: "would be", explanation: "Past condition affecting present situation.", explanationSpanish: "Condición pasada que afecta situación presente.", difficulty: 3, tags: ["conditionals", "mixed"] },
    { id: "b2-g1-4", type: "multiple-choice", question: "He wouldn't be so tired now if he ___ to bed earlier.", options: ["went", "goes", "had gone", "has gone"], correctAnswer: "had gone", explanation: "Present result from past action: would + infinitive, if + Past Perfect.", explanationSpanish: "Resultado presente de acción pasada: would + infinitivo, if + Past Perfect.", difficulty: 3, tags: ["conditionals", "mixed"] },
    { id: "b2-g1-5", type: "multiple-choice", question: "If they ___ the contract, they would be partners now.", options: ["signed", "had signed", "have signed", "sign"], correctAnswer: "had signed", explanation: "Past Perfect in if-clause for mixed conditional (past→present).", explanationSpanish: "Past Perfect en cláusula if para condicional mixto (pasado→presente).", difficulty: 3, tags: ["conditionals", "mixed"] },
    { id: "b2-g1-6", type: "multiple-choice", question: "If I were you, I ___ that offer yesterday.", options: ["would accept", "would have accepted", "will accept", "accepted"], correctAnswer: "would have accepted", explanation: "Present hypothetical person → past action.", explanationSpanish: "Persona hipotética presente → acción pasada.", difficulty: 3, tags: ["conditionals", "mixed", "advice"] },
    { id: "b2-g1-7", type: "true-false", question: "'If I had known, I would help you now' is grammatically correct.", options: ["True", "False"], correctAnswer: "True", explanation: "Mixed conditional: past knowledge affecting present willingness.", explanationSpanish: "Condicional mixto: conocimiento pasado afectando disposición presente.", difficulty: 3, tags: ["conditionals", "mixed", "grammar-check"] },
    { id: "b2-g1-8", type: "multiple-choice", question: "She ___ happier now if she had chosen a different career.", options: ["will be", "would be", "would have been", "is"], correctAnswer: "would be", explanation: "Past decision → present consequence.", explanationSpanish: "Decisión pasada → consecuencia presente.", difficulty: 3, tags: ["conditionals", "mixed"] },
    { id: "b2-g1-9", type: "multiple-choice", question: "If he weren't so lazy, he ___ the project on time.", options: ["would finish", "would have finished", "finishes", "finished"], correctAnswer: "would have finished", explanation: "Present characteristic → past result.", explanationSpanish: "Característica presente → resultado pasado.", difficulty: 3, tags: ["conditionals", "mixed"] },
    { id: "b2-g1-10", type: "multiple-choice", question: "If we ___ in Tokyo, we wouldn't need a car now.", options: ["lived", "live", "had lived", "have lived"], correctAnswer: "lived", explanation: "Present unreal condition → present result. Second Conditional base.", explanationSpanish: "Condición irreal presente → resultado presente. Base de Segundo Condicional.", difficulty: 2, tags: ["conditionals", "second"] },
    { id: "b2-g1-11", type: "multiple-choice", question: "I wouldn't be in this mess if I ___ your advice.", options: ["took", "had taken", "take", "have taken"], correctAnswer: "had taken", explanation: "Past action (not taking advice) → present mess.", explanationSpanish: "Acción pasada (no tomar consejo) → lío presente.", difficulty: 3, tags: ["conditionals", "mixed"] },
    { id: "b2-g1-12", type: "multiple-choice", question: "If she ___ better, she would have won the competition.", options: ["trained", "had trained", "trains", "training"], correctAnswer: "had trained", explanation: "Past Perfect for unreal past condition.", explanationSpanish: "Past Perfect para condición pasada irreal.", difficulty: 3, tags: ["conditionals", "third"] },
  ],

  // b2-gram-2: Reported Speech (Advanced)
  "b2-gram-2": [
    { id: "b2-g2-1", type: "multiple-choice", question: "She said she ___ the movie the day before.", options: ["saw", "had seen", "sees", "has seen"], correctAnswer: "had seen", explanation: "Reported speech: Past Simple → Past Perfect.", explanationSpanish: "Estilo indirecto: Past Simple → Past Perfect.", difficulty: 2, tags: ["reported-speech", "backshift"] },
    { id: "b2-g2-2", type: "multiple-choice", question: "He asked me where I ___.", options: ["live", "lived", "am living", "do live"], correctAnswer: "lived", explanation: "Reported questions: tense shifts back.", explanationSpanish: "Preguntas indirectas: el tiempo retrocede.", difficulty: 2, tags: ["reported-speech", "questions"] },
    { id: "b2-g2-3", type: "multiple-choice", question: "They told us that they ___ the next day.", options: ["will arrive", "would arrive", "arrive", "arrived"], correctAnswer: "would arrive", explanation: "Reported speech: will → would.", explanationSpanish: "Estilo indirecto: will → would.", difficulty: 2, tags: ["reported-speech", "will-would"] },
    { id: "b2-g2-4", type: "multiple-choice", question: "She asked me ___ I could help her.", options: ["that", "if", "what", "when"], correctAnswer: "if", explanation: "Reported yes/no questions use 'if' or 'whether'.", explanationSpanish: "Preguntas sí/no indirectas usan 'if' o 'whether'.", difficulty: 2, tags: ["reported-speech", "yes-no"] },
    { id: "b2-g2-5", type: "multiple-choice", question: "He said he ___ working there for five years.", options: ["has been", "had been", "is", "was being"], correctAnswer: "had been", explanation: "Present Perfect Continuous → Past Perfect Continuous.", explanationSpanish: "Present Perfect Continuous → Past Perfect Continuous.", difficulty: 3, tags: ["reported-speech", "continuous"] },
    { id: "b2-g2-6", type: "multiple-choice", question: "She wanted to know what time the train ___.", options: ["leaves", "left", "is leaving", "has left"], correctAnswer: "left", explanation: "Reported questions: no inversion, tense backshift.", explanationSpanish: "Preguntas indirectas: sin inversión, retroceso temporal.", difficulty: 2, tags: ["reported-speech", "questions"] },
    { id: "b2-g2-7", type: "multiple-choice", question: "They explained that water ___ at 100°C.", options: ["boils", "boiled", "is boiling", "had boiled"], correctAnswer: "boils", explanation: "General truths: no backshift necessary.", explanationSpanish: "Verdades generales: no es necesario retroceder.", difficulty: 3, tags: ["reported-speech", "general-truth"] },
    { id: "b2-g2-8", type: "multiple-choice", question: "He admitted that he ___ the mistake.", options: ["makes", "made", "had made", "is making"], correctAnswer: "had made", explanation: "Past Simple → Past Perfect for completed past action.", explanationSpanish: "Past Simple → Past Perfect para acción pasada completada.", difficulty: 2, tags: ["reported-speech", "admit"] },
    { id: "b2-g2-9", type: "multiple-choice", question: "She reminded me ___ lock the door.", options: ["to", "that", "for", "about"], correctAnswer: "to", explanation: "Remind + object + to-infinitive.", explanationSpanish: "Remind + objeto + to-infinitivo.", difficulty: 2, tags: ["reported-speech", "remind"] },
    { id: "b2-g2-10", type: "multiple-choice", question: "He warned us ___ touch the wire.", options: ["to not", "not to", "don't", "that not"], correctAnswer: "not to", explanation: "Warn + object + not to + infinitive.", explanationSpanish: "Warn + objeto + not to + infinitivo.", difficulty: 2, tags: ["reported-speech", "warn"] },
    { id: "b2-g2-11", type: "true-false", question: "'He asked me did I like coffee' is correct.", options: ["True", "False"], correctAnswer: "False", explanation: "Correct: 'He asked me if I liked coffee' (no inversion).", explanationSpanish: "Correcto: 'He asked me if I liked coffee' (sin inversión).", difficulty: 2, tags: ["reported-speech", "error"] },
    { id: "b2-g2-12", type: "multiple-choice", question: "She suggested ___ to the beach.", options: ["go", "going", "to go", "we go"], correctAnswer: "going", explanation: "Suggest + gerund OR suggest + (that) + subject + base verb.", explanationSpanish: "Suggest + gerundio O suggest + (that) + sujeto + verbo base.", difficulty: 3, tags: ["reported-speech", "suggest"] },
  ],

  // b2-gram-3: Passive Voice (Advanced)
  "b2-gram-3": [
    { id: "b2-g3-1", type: "multiple-choice", question: "The project ___ by the end of the month.", options: ["will be completed", "will complete", "is completing", "completes"], correctAnswer: "will be completed", explanation: "Future Passive: will be + past participle.", explanationSpanish: "Pasiva Futura: will be + participio pasado.", difficulty: 2, tags: ["passive", "future"] },
    { id: "b2-g3-2", type: "multiple-choice", question: "The car ___ when we arrived.", options: ["was being repaired", "was repaired", "had repaired", "repaired"], correctAnswer: "was being repaired", explanation: "Past Continuous Passive: was/were being + past participle.", explanationSpanish: "Pasiva en Past Continuous: was/were being + participio pasado.", difficulty: 3, tags: ["passive", "continuous"] },
    { id: "b2-g3-3", type: "multiple-choice", question: "English ___ in many countries.", options: ["speaks", "is spoken", "is speaking", "has spoken"], correctAnswer: "is spoken", explanation: "Present Simple Passive for general facts.", explanationSpanish: "Pasiva en Present Simple para hechos generales.", difficulty: 2, tags: ["passive", "present"] },
    { id: "b2-g3-4", type: "multiple-choice", question: "The report ___ yesterday.", options: ["has been submitted", "was submitted", "submitted", "is submitted"], correctAnswer: "was submitted", explanation: "Past Simple Passive with specific past time.", explanationSpanish: "Pasiva en Past Simple con tiempo pasado específico.", difficulty: 2, tags: ["passive", "past"] },
    { id: "b2-g3-5", type: "multiple-choice", question: "This castle ___ in the 15th century.", options: ["was built", "built", "has built", "is building"], correctAnswer: "was built", explanation: "Past Passive for historical facts.", explanationSpanish: "Pasiva Pasada para hechos históricos.", difficulty: 2, tags: ["passive", "past"] },
    { id: "b2-g3-6", type: "multiple-choice", question: "He is believed ___ innocent.", options: ["be", "to be", "being", "been"], correctAnswer: "to be", explanation: "Personal passive with 'believe': Subject + is believed + to-infinitive.", explanationSpanish: "Pasiva personal con 'believe': Sujeto + is believed + to-infinitivo.", difficulty: 3, tags: ["passive", "personal"] },
    { id: "b2-g3-7", type: "multiple-choice", question: "It ___ that the economy will improve.", options: ["expects", "is expected", "expected", "expecting"], correctAnswer: "is expected", explanation: "Impersonal passive: It is expected that...", explanationSpanish: "Pasiva impersonal: It is expected that...", difficulty: 3, tags: ["passive", "impersonal"] },
    { id: "b2-g3-8", type: "multiple-choice", question: "The letter should ___ immediately.", options: ["be sent", "sent", "be sending", "send"], correctAnswer: "be sent", explanation: "Modal + be + past participle.", explanationSpanish: "Modal + be + participio pasado.", difficulty: 2, tags: ["passive", "modal"] },
    { id: "b2-g3-9", type: "multiple-choice", question: "The house ___ since last year.", options: ["has been renovated", "was renovated", "renovated", "is renovating"], correctAnswer: "has been renovated", explanation: "Present Perfect Passive with 'since'.", explanationSpanish: "Pasiva en Present Perfect con 'since'.", difficulty: 3, tags: ["passive", "present-perfect"] },
    { id: "b2-g3-10", type: "multiple-choice", question: "She is said ___ very talented.", options: ["be", "to be", "being", "been"], correctAnswer: "to be", explanation: "Personal passive: She is said to be = People say she is.", explanationSpanish: "Pasiva personal: She is said to be = La gente dice que es.", difficulty: 3, tags: ["passive", "personal"] },
    { id: "b2-g3-11", type: "true-false", question: "'The letter written by him' is a complete passive sentence.", options: ["True", "False"], correctAnswer: "False", explanation: "Complete sentence needs 'was': 'The letter was written by him'.", explanationSpanish: "La oración completa necesita 'was': 'The letter was written by him'.", difficulty: 2, tags: ["passive", "error"] },
    { id: "b2-g3-12", type: "multiple-choice", question: "The suspect is thought ___ fled the country.", options: ["to have", "having", "has", "have"], correctAnswer: "to have", explanation: "Perfect infinitive in passive: is thought to have + past participle.", explanationSpanish: "Infinitivo perfecto en pasiva: is thought to have + participio pasado.", difficulty: 3, tags: ["passive", "perfect-infinitive"] },
  ],

  // b2-gram-4: Inversion
  "b2-gram-4": [
    { id: "b2-g4-1", type: "multiple-choice", question: "Never ___ such a beautiful sunset.", options: ["I have seen", "have I seen", "I saw", "did I saw"], correctAnswer: "have I seen", explanation: "Inversion after negative adverbs: Never + auxiliary + subject + verb.", explanationSpanish: "Inversión después de adverbios negativos: Never + auxiliar + sujeto + verbo.", difficulty: 3, tags: ["inversion", "negative-adverb"] },
    { id: "b2-g4-2", type: "multiple-choice", question: "Not only ___ the exam, but he also got the highest score.", options: ["he passed", "did he pass", "he did pass", "passed he"], correctAnswer: "did he pass", explanation: "Not only + inversion + but also.", explanationSpanish: "Not only + inversión + but also.", difficulty: 3, tags: ["inversion", "not-only"] },
    { id: "b2-g4-3", type: "multiple-choice", question: "Rarely ___ so much enthusiasm.", options: ["we see", "do we see", "we do see", "see we"], correctAnswer: "do we see", explanation: "Rarely + auxiliary + subject + verb.", explanationSpanish: "Rarely + auxiliar + sujeto + verbo.", difficulty: 3, tags: ["inversion", "rarely"] },
    { id: "b2-g4-4", type: "multiple-choice", question: "Hardly ___ when the phone rang.", options: ["had I arrived", "I had arrived", "I arrived", "did I arrive"], correctAnswer: "had I arrived", explanation: "Hardly + Past Perfect inversion + when + Past Simple.", explanationSpanish: "Hardly + inversión en Past Perfect + when + Past Simple.", difficulty: 3, tags: ["inversion", "hardly"] },
    { id: "b2-g4-5", type: "multiple-choice", question: "Only after reading the book ___ understand the film.", options: ["I could", "could I", "I can", "can I"], correctAnswer: "could I", explanation: "Only after + clause + inversion in main clause.", explanationSpanish: "Only after + cláusula + inversión en cláusula principal.", difficulty: 3, tags: ["inversion", "only-after"] },
    { id: "b2-g4-6", type: "multiple-choice", question: "No sooner ___ than it started to rain.", options: ["we left", "had we left", "we had left", "did we leave"], correctAnswer: "had we left", explanation: "No sooner + Past Perfect inversion + than + Past Simple.", explanationSpanish: "No sooner + inversión en Past Perfect + than + Past Simple.", difficulty: 3, tags: ["inversion", "no-sooner"] },
    { id: "b2-g4-7", type: "multiple-choice", question: "Little ___ he know what awaited him.", options: ["did", "does", "do", "was"], correctAnswer: "did", explanation: "Little + did + subject + base verb.", explanationSpanish: "Little + did + sujeto + verbo base.", difficulty: 3, tags: ["inversion", "little"] },
    { id: "b2-g4-8", type: "multiple-choice", question: "Under no circumstances ___ reveal this information.", options: ["you should", "should you", "you will", "will you"], correctAnswer: "should you", explanation: "Under no circumstances + modal inversion.", explanationSpanish: "Under no circumstances + inversión con modal.", difficulty: 3, tags: ["inversion", "circumstances"] },
    { id: "b2-g4-9", type: "multiple-choice", question: "Seldom ___ anyone so talented.", options: ["I meet", "do I meet", "I do meet", "meet I"], correctAnswer: "do I meet", explanation: "Seldom + auxiliary + subject + verb.", explanationSpanish: "Seldom + auxiliar + sujeto + verbo.", difficulty: 3, tags: ["inversion", "seldom"] },
    { id: "b2-g4-10", type: "true-false", question: "'Never I have been so happy' is correct.", options: ["True", "False"], correctAnswer: "False", explanation: "Correct: 'Never have I been so happy' (inversion required).", explanationSpanish: "Correcto: 'Never have I been so happy' (se requiere inversión).", difficulty: 3, tags: ["inversion", "error"] },
    { id: "b2-g4-11", type: "multiple-choice", question: "Not until midnight ___ the truth.", options: ["she discovered", "did she discover", "she did discover", "discovered she"], correctAnswer: "did she discover", explanation: "Not until + time + inversion.", explanationSpanish: "Not until + tiempo + inversión.", difficulty: 3, tags: ["inversion", "not-until"] },
    { id: "b2-g4-12", type: "multiple-choice", question: "At no time ___ in danger.", options: ["the passengers were", "were the passengers", "the passengers are", "are the passengers"], correctAnswer: "were the passengers", explanation: "At no time + inversion.", explanationSpanish: "At no time + inversión.", difficulty: 3, tags: ["inversion", "at-no-time"] },
  ],

  // b2-gram-5: Cleft Sentences
  "b2-gram-5": [
    { id: "b2-g5-1", type: "multiple-choice", question: "It ___ John who broke the window.", options: ["is", "was", "were", "been"], correctAnswer: "was", explanation: "Cleft sentence: It was + focus + who/that + clause.", explanationSpanish: "Oración hendida: It was + foco + who/that + cláusula.", difficulty: 3, tags: ["cleft", "it-cleft"] },
    { id: "b2-g5-2", type: "multiple-choice", question: "What I need ___ a long vacation.", options: ["is", "are", "was", "were"], correctAnswer: "is", explanation: "What-cleft: What + clause + is/are + focus.", explanationSpanish: "What-hendida: What + cláusula + is/are + foco.", difficulty: 3, tags: ["cleft", "what-cleft"] },
    { id: "b2-g5-3", type: "multiple-choice", question: "It was in Paris ___ they first met.", options: ["where", "that", "which", "when"], correctAnswer: "that", explanation: "It-cleft with place uses 'that' (or 'where').", explanationSpanish: "It-hendida con lugar usa 'that' (o 'where').", difficulty: 3, tags: ["cleft", "place"] },
    { id: "b2-g5-4", type: "multiple-choice", question: "What ___ me is his attitude.", options: ["annoy", "annoys", "annoying", "annoyed"], correctAnswer: "annoys", explanation: "What-clause is singular: What annoys me...", explanationSpanish: "La cláusula What es singular: What annoys me...", difficulty: 3, tags: ["cleft", "what-cleft"] },
    { id: "b2-g5-5", type: "multiple-choice", question: "It is honesty ___ I value most.", options: ["what", "that", "which", "who"], correctAnswer: "that", explanation: "It-cleft with abstract noun uses 'that'.", explanationSpanish: "It-hendida con sustantivo abstracto usa 'that'.", difficulty: 3, tags: ["cleft", "abstract"] },
    { id: "b2-g5-6", type: "multiple-choice", question: "All ___ want is peace.", options: ["I", "that I", "what I", "which I"], correctAnswer: "that I", explanation: "All that + subject + verb = emphasis structure.", explanationSpanish: "All that + sujeto + verbo = estructura de énfasis.", difficulty: 3, tags: ["cleft", "all-that"] },
    { id: "b2-g5-7", type: "multiple-choice", question: "It was Mary ___ told me the news.", options: ["which", "that", "what", "whom"], correctAnswer: "that", explanation: "It-cleft with person: It was + person + who/that.", explanationSpanish: "It-hendida con persona: It was + persona + who/that.", difficulty: 2, tags: ["cleft", "person"] },
    { id: "b2-g5-8", type: "multiple-choice", question: "What I don't understand ___ why he left.", options: ["is", "are", "was", "be"], correctAnswer: "is", explanation: "What-cleft for questions/confusion: What I don't understand is...", explanationSpanish: "What-hendida para preguntas/confusión: What I don't understand is...", difficulty: 3, tags: ["cleft", "what-cleft"] },
    { id: "b2-g5-9", type: "multiple-choice", question: "It was in 1969 ___ humans first walked on the moon.", options: ["where", "that", "which", "who"], correctAnswer: "that", explanation: "It-cleft with time uses 'that' (or 'when').", explanationSpanish: "It-hendida con tiempo usa 'that' (o 'when').", difficulty: 2, tags: ["cleft", "time"] },
    { id: "b2-g5-10", type: "true-false", question: "'What I like is travel' sounds more natural than 'I like travel'.", options: ["True", "False"], correctAnswer: "True", explanation: "Cleft adds emphasis: What I like is... stresses the preference.", explanationSpanish: "Hendida añade énfasis: What I like is... enfatiza la preferencia.", difficulty: 3, tags: ["cleft", "emphasis"] },
    { id: "b2-g5-11", type: "multiple-choice", question: "The reason ___ I called is to apologize.", options: ["that", "why", "which", "what"], correctAnswer: "why", explanation: "The reason why + clause (pseudo-cleft structure).", explanationSpanish: "The reason why + cláusula (estructura pseudo-hendida).", difficulty: 3, tags: ["cleft", "reason"] },
    { id: "b2-g5-12", type: "multiple-choice", question: "What happened ___ that the system crashed.", options: ["is", "was", "were", "are"], correctAnswer: "was", explanation: "What happened was... for past event emphasis.", explanationSpanish: "What happened was... para énfasis de evento pasado.", difficulty: 3, tags: ["cleft", "what-happened"] },
  ],

  // b2-gram-6: Subjunctive
  "b2-gram-6": [
    { id: "b2-g6-1", type: "multiple-choice", question: "I suggest that he ___ a doctor.", options: ["sees", "see", "saw", "seeing"], correctAnswer: "see", explanation: "Subjunctive after 'suggest': base form of verb.", explanationSpanish: "Subjuntivo después de 'suggest': forma base del verbo.", difficulty: 3, tags: ["subjunctive", "suggest"] },
    { id: "b2-g6-2", type: "multiple-choice", question: "It's essential that she ___ on time.", options: ["is", "be", "was", "being"], correctAnswer: "be", explanation: "Subjunctive after adjectives like 'essential': use 'be'.", explanationSpanish: "Subjuntivo después de adjetivos como 'essential': usa 'be'.", difficulty: 3, tags: ["subjunctive", "essential"] },
    { id: "b2-g6-3", type: "multiple-choice", question: "They demanded that he ___ immediately.", options: ["leaves", "leave", "left", "leaving"], correctAnswer: "leave", explanation: "Subjunctive after 'demand': base form.", explanationSpanish: "Subjuntivo después de 'demand': forma base.", difficulty: 3, tags: ["subjunctive", "demand"] },
    { id: "b2-g6-4", type: "multiple-choice", question: "I wish I ___ taller.", options: ["am", "was/were", "be", "being"], correctAnswer: "was/were", explanation: "Wish + Past Simple for present unreal situations.", explanationSpanish: "Wish + Past Simple para situaciones irreales presentes.", difficulty: 2, tags: ["subjunctive", "wish"] },
    { id: "b2-g6-5", type: "multiple-choice", question: "If only he ___ here now!", options: ["is", "were", "was", "be"], correctAnswer: "were", explanation: "If only + were (subjunctive) for wishes.", explanationSpanish: "If only + were (subjuntivo) para deseos.", difficulty: 3, tags: ["subjunctive", "if-only"] },
    { id: "b2-g6-6", type: "multiple-choice", question: "It's important that everyone ___ the rules.", options: ["follows", "follow", "followed", "following"], correctAnswer: "follow", explanation: "Subjunctive after 'important that': base form.", explanationSpanish: "Subjuntivo después de 'important that': forma base.", difficulty: 3, tags: ["subjunctive", "important"] },
    { id: "b2-g6-7", type: "multiple-choice", question: "I wish I ___ studied harder last year.", options: ["have", "had", "would", "could"], correctAnswer: "had", explanation: "Wish + Past Perfect for past regrets.", explanationSpanish: "Wish + Past Perfect para arrepentimientos pasados.", difficulty: 3, tags: ["subjunctive", "wish-past"] },
    { id: "b2-g6-8", type: "multiple-choice", question: "The boss insisted that the report ___ finished by Friday.", options: ["is", "be", "was", "being"], correctAnswer: "be", explanation: "Subjunctive after 'insist that': base form 'be'.", explanationSpanish: "Subjuntivo después de 'insist that': forma base 'be'.", difficulty: 3, tags: ["subjunctive", "insist"] },
    { id: "b2-g6-9", type: "multiple-choice", question: "It's vital that the patient ___ rest.", options: ["gets", "get", "got", "getting"], correctAnswer: "get", explanation: "Subjunctive after 'vital that': base form.", explanationSpanish: "Subjuntivo después de 'vital that': forma base.", difficulty: 3, tags: ["subjunctive", "vital"] },
    { id: "b2-g6-10", type: "true-false", question: "'I suggest that he goes' is grammatically correct in formal English.", options: ["True", "False"], correctAnswer: "False", explanation: "Formal: 'I suggest that he go' (subjunctive, no -s).", explanationSpanish: "Formal: 'I suggest that he go' (subjuntivo, sin -s).", difficulty: 3, tags: ["subjunctive", "error"] },
    { id: "b2-g6-11", type: "multiple-choice", question: "I'd rather you ___ smoke here.", options: ["don't", "didn't", "won't", "not"], correctAnswer: "didn't", explanation: "Would rather + subject + Past Simple.", explanationSpanish: "Would rather + sujeto + Past Simple.", difficulty: 3, tags: ["subjunctive", "would-rather"] },
    { id: "b2-g6-12", type: "multiple-choice", question: "It's high time we ___ home.", options: ["go", "went", "going", "gone"], correctAnswer: "went", explanation: "It's high time + Past Simple (although refers to present/future).", explanationSpanish: "It's high time + Past Simple (aunque se refiere al presente/futuro).", difficulty: 3, tags: ["subjunctive", "high-time"] },
  ],

  // b2-gram-7: Relative Clauses (Advanced)
  "b2-gram-7": [
    { id: "b2-g7-1", type: "multiple-choice", question: "The book, ___ I bought yesterday, is excellent.", options: ["that", "which", "what", "who"], correctAnswer: "which", explanation: "Non-defining relative clause: use 'which' (with commas).", explanationSpanish: "Cláusula relativa no definida: usa 'which' (con comas).", difficulty: 2, tags: ["relative-clauses", "non-defining"] },
    { id: "b2-g7-2", type: "multiple-choice", question: "My sister, ___ lives in London, is visiting.", options: ["that", "who", "which", "whom"], correctAnswer: "who", explanation: "Non-defining relative clause for people: 'who'.", explanationSpanish: "Cláusula relativa no definida para personas: 'who'.", difficulty: 2, tags: ["relative-clauses", "non-defining"] },
    { id: "b2-g7-3", type: "multiple-choice", question: "The man to ___ I spoke was helpful.", options: ["who", "whom", "which", "that"], correctAnswer: "whom", explanation: "Formal: 'whom' after prepositions.", explanationSpanish: "Formal: 'whom' después de preposiciones.", difficulty: 3, tags: ["relative-clauses", "preposition"] },
    { id: "b2-g7-4", type: "multiple-choice", question: "That's the house ___ windows were broken.", options: ["which", "whose", "that", "who"], correctAnswer: "whose", explanation: "'Whose' shows possession for people and things.", explanationSpanish: "'Whose' muestra posesión para personas y cosas.", difficulty: 3, tags: ["relative-clauses", "whose"] },
    { id: "b2-g7-5", type: "multiple-choice", question: "The reason ___ he left is unclear.", options: ["which", "why", "that", "what"], correctAnswer: "why", explanation: "'Why' for reason in relative clauses.", explanationSpanish: "'Why' para razón en cláusulas relativas.", difficulty: 2, tags: ["relative-clauses", "reason"] },
    { id: "b2-g7-6", type: "multiple-choice", question: "2020 was the year ___ everything changed.", options: ["which", "when", "that", "where"], correctAnswer: "when", explanation: "'When' for time in relative clauses.", explanationSpanish: "'When' para tiempo en cláusulas relativas.", difficulty: 2, tags: ["relative-clauses", "time"] },
    { id: "b2-g7-7", type: "multiple-choice", question: "The café ___ we met is closed.", options: ["which", "where", "that", "when"], correctAnswer: "where", explanation: "'Where' for place in relative clauses.", explanationSpanish: "'Where' para lugar en cláusulas relativas.", difficulty: 2, tags: ["relative-clauses", "place"] },
    { id: "b2-g7-8", type: "multiple-choice", question: "She's the author ___ books I've read.", options: ["who", "whose", "which", "that"], correctAnswer: "whose", explanation: "'Whose' for possessive relationship.", explanationSpanish: "'Whose' para relación posesiva.", difficulty: 3, tags: ["relative-clauses", "whose"] },
    { id: "b2-g7-9", type: "multiple-choice", question: "This is all ___ I know.", options: ["that", "which", "what", "who"], correctAnswer: "that", explanation: "After 'all', use 'that' (or omit the relative pronoun).", explanationSpanish: "Después de 'all', usa 'that' (u omite el pronombre relativo).", difficulty: 3, tags: ["relative-clauses", "all-that"] },
    { id: "b2-g7-10", type: "true-false", question: "'The car, that I bought, is red' is correct.", options: ["True", "False"], correctAnswer: "False", explanation: "Non-defining clauses (with commas) don't use 'that'. Use 'which'.", explanationSpanish: "Cláusulas no definidas (con comas) no usan 'that'. Usa 'which'.", difficulty: 3, tags: ["relative-clauses", "error"] },
    { id: "b2-g7-11", type: "multiple-choice", question: "The way ___ she explained it was clear.", options: ["that", "which", "how", "in which"], correctAnswer: "in which", explanation: "'The way in which' or 'the way that' or just 'the way'.", explanationSpanish: "'The way in which' o 'the way that' o simplemente 'the way'.", difficulty: 3, tags: ["relative-clauses", "way"] },
    { id: "b2-g7-12", type: "multiple-choice", question: "He's the only one ___ knows the answer.", options: ["which", "who", "whom", "whose"], correctAnswer: "who", explanation: "After 'the only one', use 'who' for people.", explanationSpanish: "Después de 'the only one', usa 'who' para personas.", difficulty: 2, tags: ["relative-clauses", "defining"] },
  ],

  // b2-gram-8: Modal Perfects
  "b2-gram-8": [
    { id: "b2-g8-1", type: "multiple-choice", question: "He ___ have left already. The car is gone.", options: ["must", "can", "should", "would"], correctAnswer: "must", explanation: "Must have + past participle = certain deduction about past.", explanationSpanish: "Must have + participio = deducción segura sobre el pasado.", difficulty: 2, tags: ["modal-perfect", "must"] },
    { id: "b2-g8-2", type: "multiple-choice", question: "She ___ have told me earlier. Now it's too late.", options: ["must", "should", "can", "would"], correctAnswer: "should", explanation: "Should have + past participle = criticism/regret about past.", explanationSpanish: "Should have + participio = crítica/arrepentimiento sobre el pasado.", difficulty: 2, tags: ["modal-perfect", "should"] },
    { id: "b2-g8-3", type: "multiple-choice", question: "They ___ have arrived by now if they took the early flight.", options: ["should", "can", "would", "might"], correctAnswer: "should", explanation: "Should have = expectation about completed action.", explanationSpanish: "Should have = expectativa sobre acción completada.", difficulty: 2, tags: ["modal-perfect", "expectation"] },
    { id: "b2-g8-4", type: "multiple-choice", question: "He ___ have been at the party. I didn't see him.", options: ["can't", "mustn't", "won't", "shan't"], correctAnswer: "can't", explanation: "Can't have = impossible/certain negative deduction.", explanationSpanish: "Can't have = deducción negativa imposible/segura.", difficulty: 2, tags: ["modal-perfect", "cant"] },
    { id: "b2-g8-5", type: "multiple-choice", question: "She ___ have taken a taxi. That's why she arrived so quickly.", options: ["must", "should", "would", "can"], correctAnswer: "must", explanation: "Must have = logical conclusion about past.", explanationSpanish: "Must have = conclusión lógica sobre el pasado.", difficulty: 2, tags: ["modal-perfect", "deduction"] },
    { id: "b2-g8-6", type: "multiple-choice", question: "I ___ have called you, but my phone died.", options: ["would", "should", "could", "must"], correctAnswer: "would", explanation: "Would have = willingness that couldn't happen.", explanationSpanish: "Would have = disposición que no pudo ocurrir.", difficulty: 3, tags: ["modal-perfect", "would"] },
    { id: "b2-g8-7", type: "multiple-choice", question: "You ___ have asked permission first!", options: ["must", "should", "would", "can"], correctAnswer: "should", explanation: "Should have = criticism about not doing something.", explanationSpanish: "Should have = crítica por no hacer algo.", difficulty: 2, tags: ["modal-perfect", "criticism"] },
    { id: "b2-g8-8", type: "multiple-choice", question: "He ___ have won if he'd trained harder.", options: ["should", "could", "would", "must"], correctAnswer: "could", explanation: "Could have = missed opportunity/possibility.", explanationSpanish: "Could have = oportunidad perdida/posibilidad.", difficulty: 3, tags: ["modal-perfect", "could"] },
    { id: "b2-g8-9", type: "multiple-choice", question: "They ___ have known about the problem. It was obvious.", options: ["must", "should", "can", "would"], correctAnswer: "must", explanation: "Must have = certain about what happened.", explanationSpanish: "Must have = seguro sobre lo que pasó.", difficulty: 2, tags: ["modal-perfect", "certainty"] },
    { id: "b2-g8-10", type: "true-false", question: "'She can't have forgotten' means it's impossible she forgot.", options: ["True", "False"], correctAnswer: "True", explanation: "Can't have = logical impossibility based on evidence.", explanationSpanish: "Can't have = imposibilidad lógica basada en evidencia.", difficulty: 2, tags: ["modal-perfect", "meaning"] },
    { id: "b2-g8-11", type: "multiple-choice", question: "You ___ have been more careful with the vase.", options: ["must", "should", "can", "will"], correctAnswer: "should", explanation: "Should have = criticism/advice about past behavior.", explanationSpanish: "Should have = crítica/consejo sobre comportamiento pasado.", difficulty: 2, tags: ["modal-perfect", "advice"] },
    { id: "b2-g8-12", type: "multiple-choice", question: "She ___ have misunderstood the instructions.", options: ["may", "must", "can", "will"], correctAnswer: "may", explanation: "May have = uncertain possibility about past.", explanationSpanish: "May have = posibilidad incierta sobre el pasado.", difficulty: 2, tags: ["modal-perfect", "possibility"] },
  ],

  // b2-gram-9: Participle Clauses
  "b2-gram-9": [
    { id: "b2-g9-1", type: "multiple-choice", question: "___ the book, I returned it to the library.", options: ["Having finished", "Finishing", "Finished", "To finish"], correctAnswer: "Having finished", explanation: "Having + past participle for action before main clause.", explanationSpanish: "Having + participio para acción antes de la cláusula principal.", difficulty: 3, tags: ["participle-clause", "having"] },
    { id: "b2-g9-2", type: "multiple-choice", question: "___ by the noise, she woke up.", options: ["Disturbing", "Disturbed", "Having disturbed", "To disturb"], correctAnswer: "Disturbed", explanation: "Past participle for passive meaning.", explanationSpanish: "Participio pasado para significado pasivo.", difficulty: 3, tags: ["participle-clause", "passive"] },
    { id: "b2-g9-3", type: "multiple-choice", question: "___ in London, I know it well.", options: ["Living", "Lived", "Having lived", "To live"], correctAnswer: "Having lived", explanation: "Having lived = Because I have lived.", explanationSpanish: "Having lived = Porque he vivido.", difficulty: 3, tags: ["participle-clause", "reason"] },
    { id: "b2-g9-4", type: "multiple-choice", question: "The woman ___ at the corner is my teacher.", options: ["standing", "stood", "stands", "to stand"], correctAnswer: "standing", explanation: "Present participle as reduced relative clause.", explanationSpanish: "Participio presente como cláusula relativa reducida.", difficulty: 2, tags: ["participle-clause", "relative"] },
    { id: "b2-g9-5", type: "multiple-choice", question: "___ in the rain, they got completely wet.", options: ["Walking", "Walked", "Having walked", "To walk"], correctAnswer: "Walking", explanation: "Present participle for simultaneous action.", explanationSpanish: "Participio presente para acción simultánea.", difficulty: 2, tags: ["participle-clause", "simultaneous"] },
    { id: "b2-g9-6", type: "multiple-choice", question: "The letter ___ yesterday contained good news.", options: ["receiving", "received", "having received", "to receive"], correctAnswer: "received", explanation: "Past participle = that was received.", explanationSpanish: "Participio pasado = que fue recibida.", difficulty: 2, tags: ["participle-clause", "passive-relative"] },
    { id: "b2-g9-7", type: "multiple-choice", question: "___ the exam, she went to celebrate.", options: ["Passing", "Passed", "Having passed", "To pass"], correctAnswer: "Having passed", explanation: "Having + past participle = after she had passed.", explanationSpanish: "Having + participio = después de haber aprobado.", difficulty: 3, tags: ["participle-clause", "sequence"] },
    { id: "b2-g9-8", type: "multiple-choice", question: "___ by the long journey, we went straight to bed.", options: ["Exhausting", "Exhausted", "Having exhausted", "To exhaust"], correctAnswer: "Exhausted", explanation: "Past participle for passive state.", explanationSpanish: "Participio pasado para estado pasivo.", difficulty: 2, tags: ["participle-clause", "state"] },
    { id: "b2-g9-9", type: "multiple-choice", question: "___ carefully, the experiment succeeded.", options: ["Planning", "Planned", "Having planned", "To plan"], correctAnswer: "Having planned", explanation: "Having planned carefully = Because we had planned.", explanationSpanish: "Having planned carefully = Porque habíamos planificado.", difficulty: 3, tags: ["participle-clause", "cause"] },
    { id: "b2-g9-10", type: "true-false", question: "'Seeing the danger, he stopped' has the same meaning as 'When he saw the danger, he stopped'.", options: ["True", "False"], correctAnswer: "True", explanation: "Present participle can replace time clauses.", explanationSpanish: "El participio presente puede reemplazar cláusulas temporales.", difficulty: 2, tags: ["participle-clause", "meaning"] },
    { id: "b2-g9-11", type: "multiple-choice", question: "The problems ___ in the meeting need solutions.", options: ["discussing", "discussed", "having discussed", "to discuss"], correctAnswer: "discussed", explanation: "Past participle = that were discussed.", explanationSpanish: "Participio pasado = que fueron discutidos.", difficulty: 2, tags: ["participle-clause", "reduced-relative"] },
    { id: "b2-g9-12", type: "multiple-choice", question: "___ no money, he couldn't buy food.", options: ["Have", "Had", "Having", "To have"], correctAnswer: "Having", explanation: "Having no money = Because he had no money.", explanationSpanish: "Having no money = Porque no tenía dinero.", difficulty: 3, tags: ["participle-clause", "reason"] },
  ],

  // b2-gram-10: Determiners & Quantifiers
  "b2-gram-10": [
    { id: "b2-g10-1", type: "multiple-choice", question: "___ of the students passed the exam.", options: ["All", "Every", "Each", "Whole"], correctAnswer: "All", explanation: "All of + determiner + noun for groups.", explanationSpanish: "All of + determinante + sustantivo para grupos.", difficulty: 2, tags: ["quantifiers", "all"] },
    { id: "b2-g10-2", type: "multiple-choice", question: "___ student must bring their own materials.", options: ["All", "Every", "Both", "Either"], correctAnswer: "Every", explanation: "Every + singular noun for 'all without exception'.", explanationSpanish: "Every + sustantivo singular para 'todos sin excepción'.", difficulty: 2, tags: ["quantifiers", "every"] },
    { id: "b2-g10-3", type: "multiple-choice", question: "I've read ___ of the books you recommended.", options: ["each", "every", "all", "both"], correctAnswer: "each", explanation: "'Each of' + plural noun emphasizes individuals.", explanationSpanish: "'Each of' + sustantivo plural enfatiza individuos.", difficulty: 2, tags: ["quantifiers", "each"] },
    { id: "b2-g10-4", type: "multiple-choice", question: "___ option is acceptable to me.", options: ["Both", "Either", "Neither", "All"], correctAnswer: "Either", explanation: "Either = one or the other (positive).", explanationSpanish: "Either = uno u otro (positivo).", difficulty: 2, tags: ["quantifiers", "either"] },
    { id: "b2-g10-5", type: "multiple-choice", question: "___ of the answers is correct.", options: ["Both", "Either", "Neither", "All"], correctAnswer: "Neither", explanation: "Neither = not one and not the other (negative).", explanationSpanish: "Neither = ni uno ni otro (negativo).", difficulty: 2, tags: ["quantifiers", "neither"] },
    { id: "b2-g10-6", type: "multiple-choice", question: "There is ___ water left in the bottle.", options: ["few", "a few", "little", "a little"], correctAnswer: "little", explanation: "Little (uncountable) = almost none (negative).", explanationSpanish: "Little (incontable) = casi nada (negativo).", difficulty: 2, tags: ["quantifiers", "little"] },
    { id: "b2-g10-7", type: "multiple-choice", question: "We have ___ time before the movie starts.", options: ["few", "a few", "little", "a little"], correctAnswer: "a little", explanation: "A little = some, enough (positive).", explanationSpanish: "A little = algo, suficiente (positivo).", difficulty: 2, tags: ["quantifiers", "a-little"] },
    { id: "b2-g10-8", type: "multiple-choice", question: "There were ___ people at the party.", options: ["few", "a few", "little", "a little"], correctAnswer: "few", explanation: "Few (countable) = almost none (negative).", explanationSpanish: "Few (contable) = casi ninguno (negativo).", difficulty: 2, tags: ["quantifiers", "few"] },
    { id: "b2-g10-9", type: "multiple-choice", question: "___ the members agreed with the proposal.", options: ["Most of", "Most", "The most", "More of"], correctAnswer: "Most of", explanation: "Most of + determiner + noun.", explanationSpanish: "Most of + determinante + sustantivo.", difficulty: 2, tags: ["quantifiers", "most"] },
    { id: "b2-g10-10", type: "true-false", question: "'All students' and 'all of the students' mean the same thing.", options: ["True", "False"], correctAnswer: "True", explanation: "Both are correct with same meaning.", explanationSpanish: "Ambos son correctos con el mismo significado.", difficulty: 2, tags: ["quantifiers", "all"] },
    { id: "b2-g10-11", type: "multiple-choice", question: "I see her ___ other day.", options: ["every", "each", "all", "both"], correctAnswer: "every", explanation: "Every other = alternating (cada dos).", explanationSpanish: "Every other = alternado (cada dos).", difficulty: 3, tags: ["quantifiers", "expression"] },
    { id: "b2-g10-12", type: "multiple-choice", question: "___ of what he said was true.", options: ["None", "Neither", "No one", "Nothing"], correctAnswer: "None", explanation: "None of + noun = not any.", explanationSpanish: "None of + sustantivo = ninguno.", difficulty: 2, tags: ["quantifiers", "none"] },
  ],
};

// =====================================================
// B2 VOCABULARY EXERCISES (5 batches: Globalization & Trade, Ethics & Morality, Innovation & Disruption, Diplomacy & Relations, Sustainability & Green)
// =====================================================

export const b2VocabularyExercisesComplete: Record<string, Exercise[]> = b2VocabularyExercisesNew;

// =====================================================
// B2 SPEAKING EXERCISES
// =====================================================

export const b2SpeakingExercisesComplete: Record<string, Exercise[]> = {
  "b2-speak-1": [
    { id: "b2-sp1-1", type: "multiple-choice", question: "When presenting a complex argument, which is the best approach?", options: ["State your conclusion first, then support it", "Give all supporting evidence without a clear point", "Use only emotional appeals", "Avoid any structure"], correctAnswer: "State your conclusion first, then support it", explanation: "Clear thesis followed by evidence is most effective for complex arguments.", explanationSpanish: "Tesis clara seguida de evidencia es más efectiva para argumentos complejos.", difficulty: 2, tags: ["speaking", "argumentation"] },
    { id: "b2-sp1-2", type: "multiple-choice", question: "Which phrase best introduces a counterargument?", options: ["I totally disagree", "That's completely wrong", "While I understand your point, I believe...", "You're mistaken because..."], correctAnswer: "While I understand your point, I believe...", explanation: "Acknowledging the other view before disagreeing is more persuasive.", explanationSpanish: "Reconocer la otra opinión antes de disentir es más persuasivo.", difficulty: 2, tags: ["speaking", "debating"] },
    { id: "b2-sp1-3", type: "multiple-choice", question: "How should you handle a question you can't answer in a presentation?", options: ["Pretend you know the answer", "Admit you don't know and offer to find out", "Ignore the question", "Change the subject immediately"], correctAnswer: "Admit you don't know and offer to find out", explanation: "Honesty maintains credibility; offering to follow up shows professionalism.", explanationSpanish: "La honestidad mantiene la credibilidad; ofrecer seguimiento muestra profesionalismo.", difficulty: 2, tags: ["speaking", "presentations"] },
    { id: "b2-sp1-4", type: "true-false", question: "Using filler words like 'um' and 'uh' always makes you seem less professional.", options: ["True", "False"], correctAnswer: "False", explanation: "Some fillers are natural; excessive use is problematic, but occasional use is normal.", explanationSpanish: "Algunos rellenos son naturales; el uso excesivo es problemático, pero ocasional es normal.", difficulty: 2, tags: ["speaking", "fluency"] },
    { id: "b2-sp1-5", type: "multiple-choice", question: "Which is the most appropriate way to disagree in a formal discussion?", options: ["That's ridiculous!", "I take your point, but I'd argue that...", "No way!", "You're completely wrong"], correctAnswer: "I take your point, but I'd argue that...", explanation: "Formal disagreement acknowledges the other view respectfully.", explanationSpanish: "El desacuerdo formal reconoce respetuosamente la otra opinión.", difficulty: 2, tags: ["speaking", "formal"] },
    { id: "b2-sp1-6", type: "multiple-choice", question: "How do you effectively conclude a persuasive speech?", options: ["Just stop talking", "Repeat everything you said", "Summarize key points and call to action", "Introduce a new topic"], correctAnswer: "Summarize key points and call to action", explanation: "Strong conclusions reinforce main points and motivate the audience.", explanationSpanish: "Conclusiones fuertes refuerzan puntos principales y motivan a la audiencia.", difficulty: 2, tags: ["speaking", "persuasion"] },
    { id: "b2-sp1-7", type: "multiple-choice", question: "When giving a presentation, where should you primarily look?", options: ["At your notes the entire time", "At the screen behind you", "At different audience members", "At the floor"], correctAnswer: "At different audience members", explanation: "Eye contact with different audience sections builds connection.", explanationSpanish: "Contacto visual con diferentes secciones de la audiencia crea conexión.", difficulty: 2, tags: ["speaking", "body-language"] },
    { id: "b2-sp1-8", type: "multiple-choice", question: "Which phrase best introduces supporting evidence?", options: ["I think maybe...", "Research clearly shows that...", "Someone told me that...", "I heard somewhere..."], correctAnswer: "Research clearly shows that...", explanation: "Citing evidence credibly strengthens your argument.", explanationSpanish: "Citar evidencia de forma creíble fortalece tu argumento.", difficulty: 2, tags: ["speaking", "evidence"] },
    { id: "b2-sp1-9", type: "multiple-choice", question: "How should you respond to a hostile question?", options: ["Become defensive", "Attack the questioner", "Stay calm and address the underlying concern", "Refuse to answer"], correctAnswer: "Stay calm and address the underlying concern", explanation: "Professionalism under pressure demonstrates competence.", explanationSpanish: "Profesionalismo bajo presión demuestra competencia.", difficulty: 3, tags: ["speaking", "difficult-situations"] },
    { id: "b2-sp1-10", type: "multiple-choice", question: "Which is the best way to transition between presentation topics?", options: ["So, um, moving on...", "Now that we've covered X, let's examine Y", "And then... and then...", "Whatever, next topic"], correctAnswer: "Now that we've covered X, let's examine Y", explanation: "Clear transitions help audience follow your structure.", explanationSpanish: "Transiciones claras ayudan a la audiencia a seguir tu estructura.", difficulty: 2, tags: ["speaking", "transitions"] },
    { id: "b2-sp1-11", type: "multiple-choice", question: "When should you use rhetorical questions in a speech?", options: ["Never, they're unprofessional", "To engage the audience and provoke thought", "Only at the very end", "Constantly throughout"], correctAnswer: "To engage the audience and provoke thought", explanation: "Strategic rhetorical questions engage audiences effectively.", explanationSpanish: "Preguntas retóricas estratégicas enganchan a las audiencias efectivamente.", difficulty: 2, tags: ["speaking", "rhetoric"] },
    { id: "b2-sp1-12", type: "multiple-choice", question: "What's the best approach when you lose your train of thought?", options: ["Panic visibly", "Pause, breathe, and consult your notes", "Leave the stage", "Start completely over"], correctAnswer: "Pause, breathe, and consult your notes", explanation: "Brief pauses are natural; recovering calmly maintains professionalism.", explanationSpanish: "Pausas breves son naturales; recuperarse con calma mantiene el profesionalismo.", difficulty: 2, tags: ["speaking", "recovery"] },
  ],
};

// =====================================================
// B2 LISTENING EXERCISES
// =====================================================

export const b2ListeningExercisesComplete: Record<string, Exercise[]> = {
  "b2-listen-1": [
    { id: "b2-li1-1", type: "multiple-choice", question: "When listening to a lecture, what helps identify the main points?", options: ["Ignoring all repetition", "Noting phrases like 'The key point is...'", "Only listening to the introduction", "Focusing on dates only"], correctAnswer: "Noting phrases like 'The key point is...'", explanation: "Signal phrases indicate important information.", explanationSpanish: "Frases de señal indican información importante.", difficulty: 2, tags: ["listening", "lectures"] },
    { id: "b2-li1-2", type: "true-false", question: "Understanding every word is necessary for comprehending a lecture.", options: ["True", "False"], correctAnswer: "False", explanation: "Global comprehension matters more than understanding every word.", explanationSpanish: "La comprensión global importa más que entender cada palabra.", difficulty: 2, tags: ["listening", "strategy"] },
    { id: "b2-li1-3", type: "multiple-choice", question: "How can you identify a speaker's attitude toward a topic?", options: ["Only by their words", "By tone, emphasis, and word choice together", "By ignoring non-verbal cues", "By the topic itself"], correctAnswer: "By tone, emphasis, and word choice together", explanation: "Attitude is conveyed through multiple channels.", explanationSpanish: "La actitud se transmite a través de múltiples canales.", difficulty: 3, tags: ["listening", "inference"] },
    { id: "b2-li1-4", type: "multiple-choice", question: "What indicates a speaker is about to summarize?", options: ["'On the other hand...'", "'In conclusion...' or 'To sum up...'", "'However...'", "'First of all...'"], correctAnswer: "'In conclusion...' or 'To sum up...'", explanation: "Summary markers signal the end of main content.", explanationSpanish: "Marcadores de resumen señalan el fin del contenido principal.", difficulty: 2, tags: ["listening", "discourse-markers"] },
    { id: "b2-li1-5", type: "multiple-choice", question: "When a speaker uses 'whereas' or 'in contrast', they are...", options: ["Adding information", "Giving examples", "Making a comparison/contrast", "Concluding"], correctAnswer: "Making a comparison/contrast", explanation: "These are contrast markers.", explanationSpanish: "Estos son marcadores de contraste.", difficulty: 2, tags: ["listening", "discourse-markers"] },
    { id: "b2-li1-6", type: "multiple-choice", question: "What helps when listening to speakers with unfamiliar accents?", options: ["Giving up immediately", "Focusing on key content words", "Complaining about the accent", "Ignoring context clues"], correctAnswer: "Focusing on key content words", explanation: "Content words carry meaning; function words are less critical.", explanationSpanish: "Palabras de contenido llevan significado; palabras de función son menos críticas.", difficulty: 2, tags: ["listening", "accents"] },
    { id: "b2-li1-7", type: "multiple-choice", question: "How do native speakers often indicate uncertainty?", options: ["Speaking very loudly", "Using hedging language like 'might', 'perhaps'", "Speaking faster", "Using only simple sentences"], correctAnswer: "Using hedging language like 'might', 'perhaps'", explanation: "Hedges signal tentativeness or uncertainty.", explanationSpanish: "Los atenuadores señalan tentatividad o incertidumbre.", difficulty: 2, tags: ["listening", "nuance"] },
    { id: "b2-li1-8", type: "multiple-choice", question: "When listening to news broadcasts, headlines usually...", options: ["Contain all details", "Give the main point briefly", "Are unrelated to the story", "Come at the end"], correctAnswer: "Give the main point briefly", explanation: "Headlines summarize the core news in brief.", explanationSpanish: "Los titulares resumen las noticias principales brevemente.", difficulty: 2, tags: ["listening", "news"] },
    { id: "b2-li1-9", type: "multiple-choice", question: "What does it mean when a speaker says 'That said...'?", options: ["They're ending the topic", "They're introducing a contrasting point", "They're agreeing completely", "They're starting a new topic"], correctAnswer: "They're introducing a contrasting point", explanation: "'That said' signals a contrast or caveat.", explanationSpanish: "'That said' señala un contraste o salvedad.", difficulty: 2, tags: ["listening", "discourse-markers"] },
    { id: "b2-li1-10", type: "true-false", question: "Active listening means preparing mentally to process and respond.", options: ["True", "False"], correctAnswer: "True", explanation: "Active listening involves engagement and preparation.", explanationSpanish: "La escucha activa implica compromiso y preparación.", difficulty: 2, tags: ["listening", "skills"] },
    { id: "b2-li1-11", type: "multiple-choice", question: "When a speaker says 'What I mean is...', they are...", options: ["Introducing a new topic", "Clarifying or rephrasing", "Ending the discussion", "Disagreeing strongly"], correctAnswer: "Clarifying or rephrasing", explanation: "This phrase signals clarification.", explanationSpanish: "Esta frase señala clarificación.", difficulty: 2, tags: ["listening", "clarification"] },
    { id: "b2-li1-12", type: "multiple-choice", question: "Rising intonation at the end of a statement often indicates...", options: ["Certainty", "Finality", "A question or uncertainty", "Boredom"], correctAnswer: "A question or uncertainty", explanation: "Rising intonation can indicate questioning or seeking confirmation.", explanationSpanish: "Entonación ascendente puede indicar pregunta o buscar confirmación.", difficulty: 2, tags: ["listening", "intonation"] },
  ],
};

// =====================================================
// B2 READING EXERCISES
// =====================================================

export const b2ReadingExercisesComplete: Record<string, Exercise[]> = {
  "b2-read-1": [
    { id: "b2-rd1-1", type: "multiple-choice", question: "What is the purpose of skimming a text?", options: ["To memorize every detail", "To get a general overview quickly", "To find specific information", "To analyze grammar"], correctAnswer: "To get a general overview quickly", explanation: "Skimming gives a quick understanding of the main ideas.", explanationSpanish: "El skimming da una comprensión rápida de las ideas principales.", difficulty: 2, tags: ["reading", "strategy"] },
    { id: "b2-rd1-2", type: "multiple-choice", question: "Scanning is best used when you want to...", options: ["Understand the author's opinion", "Find specific information", "Enjoy the writing style", "Analyze the structure"], correctAnswer: "Find specific information", explanation: "Scanning is for locating specific data quickly.", explanationSpanish: "El scanning es para localizar datos específicos rápidamente.", difficulty: 2, tags: ["reading", "strategy"] },
    { id: "b2-rd1-3", type: "multiple-choice", question: "When an author writes 'It goes without saying...', they mean...", options: ["The information is controversial", "The information is obvious", "They disagree with it", "It's a new idea"], correctAnswer: "The information is obvious", explanation: "This phrase indicates something is self-evident.", explanationSpanish: "Esta frase indica que algo es evidente.", difficulty: 2, tags: ["reading", "expressions"] },
    { id: "b2-rd1-4", type: "true-false", question: "Topic sentences are usually found at the beginning of paragraphs.", options: ["True", "False"], correctAnswer: "True", explanation: "Topic sentences typically introduce the paragraph's main idea.", explanationSpanish: "Las oraciones temáticas típicamente introducen la idea principal del párrafo.", difficulty: 2, tags: ["reading", "structure"] },
    { id: "b2-rd1-5", type: "multiple-choice", question: "What does 'reading between the lines' mean?", options: ["Reading very carefully", "Understanding implied meaning", "Reading multiple columns", "Speed reading"], correctAnswer: "Understanding implied meaning", explanation: "It means understanding what is suggested but not directly stated.", explanationSpanish: "Significa entender lo que se sugiere pero no se dice directamente.", difficulty: 2, tags: ["reading", "inference"] },
    { id: "b2-rd1-6", type: "multiple-choice", question: "Which word typically signals a conclusion?", options: ["Furthermore", "However", "Therefore", "Moreover"], correctAnswer: "Therefore", explanation: "Therefore introduces a conclusion or result.", explanationSpanish: "Therefore introduce una conclusión o resultado.", difficulty: 2, tags: ["reading", "connectors"] },
    { id: "b2-rd1-7", type: "multiple-choice", question: "An author's use of 'allegedly' suggests they...", options: ["Fully agree with the claim", "Are uncertain or distancing themselves", "Are concluding the article", "Are being sarcastic"], correctAnswer: "Are uncertain or distancing themselves", explanation: "Allegedly indicates unproven claims.", explanationSpanish: "Allegedly indica afirmaciones no probadas.", difficulty: 3, tags: ["reading", "nuance"] },
    { id: "b2-rd1-8", type: "multiple-choice", question: "When analyzing an argument, you should identify...", options: ["Only the conclusion", "The claim, evidence, and reasoning", "The author's age", "The publication date only"], correctAnswer: "The claim, evidence, and reasoning", explanation: "Strong analysis examines all components of an argument.", explanationSpanish: "Un análisis fuerte examina todos los componentes de un argumento.", difficulty: 2, tags: ["reading", "critical-thinking"] },
    { id: "b2-rd1-9", type: "multiple-choice", question: "'Notwithstanding' is closest in meaning to...", options: ["Because of", "Despite", "Before", "After"], correctAnswer: "Despite", explanation: "Notwithstanding = despite, in spite of.", explanationSpanish: "Notwithstanding = a pesar de.", difficulty: 3, tags: ["reading", "vocabulary"] },
    { id: "b2-rd1-10", type: "multiple-choice", question: "What's the function of a thesis statement?", options: ["To summarize the conclusion", "To present the main argument", "To provide background only", "To list references"], correctAnswer: "To present the main argument", explanation: "A thesis states the main point the text will argue.", explanationSpanish: "Una tesis establece el punto principal que el texto argumentará.", difficulty: 2, tags: ["reading", "academic"] },
    { id: "b2-rd1-11", type: "true-false", question: "All arguments in academic texts are equally valid.", options: ["True", "False"], correctAnswer: "False", explanation: "Arguments vary in strength; critical evaluation is essential.", explanationSpanish: "Los argumentos varían en fuerza; la evaluación crítica es esencial.", difficulty: 2, tags: ["reading", "critical-thinking"] },
    { id: "b2-rd1-12", type: "multiple-choice", question: "When an article uses statistics, you should...", options: ["Accept them without question", "Consider the source and methodology", "Ignore them", "Only read articles without statistics"], correctAnswer: "Consider the source and methodology", explanation: "Critical readers evaluate evidence quality.", explanationSpanish: "Los lectores críticos evalúan la calidad de la evidencia.", difficulty: 2, tags: ["reading", "critical-thinking"] },
  ],
};

// =====================================================
// B2 WRITING EXERCISES
// =====================================================

export const b2WritingExercisesComplete: Record<string, Exercise[]> = {
  "b2-writ-1": [
    { id: "b2-wr1-1", type: "multiple-choice", question: "What should an essay introduction include?", options: ["Your conclusion", "Background, context, and thesis", "All your evidence", "A bibliography"], correctAnswer: "Background, context, and thesis", explanation: "Introductions establish context and present the main argument.", explanationSpanish: "Las introducciones establecen contexto y presentan el argumento principal.", difficulty: 2, tags: ["writing", "essays"] },
    { id: "b2-wr1-2", type: "multiple-choice", question: "Which is the best thesis statement?", options: ["Climate change is bad", "This essay is about pollution", "Rising temperatures require immediate policy changes to prevent catastrophic effects", "Some people agree and some disagree"], correctAnswer: "Rising temperatures require immediate policy changes to prevent catastrophic effects", explanation: "Strong theses are specific, arguable, and clear.", explanationSpanish: "Las tesis fuertes son específicas, discutibles y claras.", difficulty: 2, tags: ["writing", "thesis"] },
    { id: "b2-wr1-3", type: "multiple-choice", question: "How should body paragraphs be structured?", options: ["Randomly", "Topic sentence, evidence, analysis, link", "Only with quotes", "Without any structure"], correctAnswer: "Topic sentence, evidence, analysis, link", explanation: "TEAL/PEEL structure creates coherent paragraphs.", explanationSpanish: "La estructura TEAL/PEEL crea párrafos coherentes.", difficulty: 2, tags: ["writing", "paragraphs"] },
    { id: "b2-wr1-4", type: "multiple-choice", question: "Which phrase is best for adding similar information?", options: ["However", "On the contrary", "Furthermore", "Nevertheless"], correctAnswer: "Furthermore", explanation: "Furthermore adds supporting or similar information.", explanationSpanish: "Furthermore añade información de apoyo o similar.", difficulty: 2, tags: ["writing", "connectors"] },
    { id: "b2-wr1-5", type: "multiple-choice", question: "What's the purpose of a counterargument in an essay?", options: ["To confuse readers", "To show different perspectives and strengthen your argument", "To admit you're wrong", "To add word count"], correctAnswer: "To show different perspectives and strengthen your argument", explanation: "Acknowledging and refuting counterarguments strengthens your position.", explanationSpanish: "Reconocer y refutar contraargumentos fortalece tu posición.", difficulty: 2, tags: ["writing", "argumentation"] },
    { id: "b2-wr1-6", type: "true-false", question: "A conclusion should introduce new arguments.", options: ["True", "False"], correctAnswer: "False", explanation: "Conclusions synthesize existing points; they don't introduce new ones.", explanationSpanish: "Las conclusiones sintetizan puntos existentes; no introducen nuevos.", difficulty: 2, tags: ["writing", "conclusions"] },
    { id: "b2-wr1-7", type: "multiple-choice", question: "Which is appropriate for formal academic writing?", options: ["I think it's cool", "It is evident that", "Stuff happens", "Everyone knows"], correctAnswer: "It is evident that", explanation: "Formal writing uses impersonal, precise language.", explanationSpanish: "La escritura formal usa lenguaje impersonal y preciso.", difficulty: 2, tags: ["writing", "register"] },
    { id: "b2-wr1-8", type: "multiple-choice", question: "How should you integrate quotes into your writing?", options: ["Just copy and paste them", "Introduce, quote, and analyze them", "Use only block quotes", "Avoid quotes entirely"], correctAnswer: "Introduce, quote, and analyze them", explanation: "Quotes need context and explanation to be effective.", explanationSpanish: "Las citas necesitan contexto y explicación para ser efectivas.", difficulty: 2, tags: ["writing", "quotes"] },
    { id: "b2-wr1-9", type: "multiple-choice", question: "What does 'coherence' in writing mean?", options: ["Using big words", "Ideas flowing logically and connecting well", "Writing very long sentences", "Using many paragraphs"], correctAnswer: "Ideas flowing logically and connecting well", explanation: "Coherence means logical flow and clear connections between ideas.", explanationSpanish: "Coherencia significa flujo lógico y conexiones claras entre ideas.", difficulty: 2, tags: ["writing", "coherence"] },
    { id: "b2-wr1-10", type: "multiple-choice", question: "Which sentence is more concise?", options: ["The meeting was postponed due to the fact that...", "The meeting was postponed because...", "Both are equally concise", "Neither is good"], correctAnswer: "The meeting was postponed because...", explanation: "'Because' is more concise than 'due to the fact that'.", explanationSpanish: "'Because' es más conciso que 'due to the fact that'.", difficulty: 2, tags: ["writing", "concision"] },
    { id: "b2-wr1-11", type: "multiple-choice", question: "Active voice is generally preferred because it...", options: ["Uses more words", "Is more direct and clear", "Sounds more academic", "Hides responsibility"], correctAnswer: "Is more direct and clear", explanation: "Active voice is clearer and more engaging.", explanationSpanish: "La voz activa es más clara y atractiva.", difficulty: 2, tags: ["writing", "voice"] },
    { id: "b2-wr1-12", type: "multiple-choice", question: "When paraphrasing, you must...", options: ["Copy exact words", "Change a few words only", "Restate ideas in your own words completely", "Never cite the source"], correctAnswer: "Restate ideas in your own words completely", explanation: "Paraphrasing requires complete rewording while maintaining meaning.", explanationSpanish: "Parafrasear requiere reformulación completa manteniendo el significado.", difficulty: 2, tags: ["writing", "paraphrasing"] },
  ],
};

// =====================================================
// HELPER FUNCTION
// =====================================================

export function getB2ExercisesCompleteBySkillId(skillId: string, categoryType: string): Exercise[] {
  // Check grammar
  if (categoryType.includes('gram') && b2GrammarExercisesComplete[skillId]) {
    return b2GrammarExercisesComplete[skillId];
  }
  
  // Check vocabulary
  if (categoryType.includes('vocab') && b2VocabularyExercisesComplete[skillId]) {
    return b2VocabularyExercisesComplete[skillId];
  }
  
  // Check speaking
  if (categoryType.includes('speak')) {
    return b2SpeakingExercisesComplete["b2-speak-1"] || [];
  }
  
  // Check listening
  if (categoryType.includes('listen')) {
    return b2ListeningExercisesComplete["b2-listen-1"] || [];
  }
  
  // Check reading
  if (categoryType.includes('read')) {
    return b2ReadingExercisesComplete["b2-read-1"] || [];
  }
  
  // Check writing
  if (categoryType.includes('writ')) {
    return b2WritingExercisesComplete["b2-writ-1"] || [];
  }
  
  return [];
}

// All B2 exercises export
export const allB2ExercisesComplete = {
  grammar: b2GrammarExercisesComplete,
  vocabulary: b2VocabularyExercisesComplete,
  speaking: b2SpeakingExercisesComplete,
  listening: b2ListeningExercisesComplete,
  reading: b2ReadingExercisesComplete,
  writing: b2WritingExercisesComplete,
};

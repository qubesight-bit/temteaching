import { GrammarExercise } from './grammarExercisesExpanded';

// ============================================
// B2 UPPER-INTERMEDIATE - Complete CEFR Curriculum
// Detailed text & abstract ideas. Clear, detailed communication on a wide range of subjects.
// ============================================

// THIRD CONDITIONAL - Unreal past situations and regrets
export const b2ThirdConditionalExercises: GrammarExercise[] = [
  {
    id: "b2-cond3-full-1",
    type: "multiple-choice",
    question: "If I _____ the alarm, I _____ late for work.",
    options: ["had heard/wouldn't have been", "heard/wouldn't be", "had heard/won't be", "hear/wouldn't have been"],
    correctAnswer: "had heard/wouldn't have been",
    explanation: "Third Conditional: If + Past Perfect, would have + past participle. For unreal past.",
    explanationSpanish: "Tercera Condicional: If + Pasado Perfecto, would have + participio. Para pasado irreal.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-2",
    type: "multiple-choice",
    question: "If she _____ harder, she _____ the exam.",
    options: ["had studied/would have passed", "studied/would pass", "had studied/would pass", "studied/would have passed"],
    correctAnswer: "had studied/would have passed",
    explanation: "Both clauses refer to unreal past situations.",
    explanationSpanish: "Ambas cláusulas se refieren a situaciones pasadas irreales.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-3",
    type: "multiple-choice",
    question: "We _____ the flight if we _____ earlier.",
    options: ["wouldn't have missed/had left", "wouldn't miss/left", "wouldn't have missed/left", "won't miss/had left"],
    correctAnswer: "wouldn't have missed/had left",
    explanation: "Imagining a different outcome in the past.",
    explanationSpanish: "Imaginando un resultado diferente en el pasado.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-4",
    type: "multiple-choice",
    question: "If they _____ us, we _____ them.",
    options: ["had invited/would have helped", "invited/would help", "had invited/would help", "invite/would have helped"],
    correctAnswer: "had invited/would have helped",
    explanation: "Past Perfect in if-clause, would have + PP in result clause.",
    explanationSpanish: "Pasado Perfecto en cláusula if, would have + PP en cláusula resultado.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-5",
    type: "multiple-choice",
    question: "I _____ that movie if I _____ how boring it was.",
    options: ["wouldn't have watched/had known", "wouldn't watch/knew", "wouldn't have watched/knew", "won't watch/had known"],
    correctAnswer: "wouldn't have watched/had known",
    explanation: "Regret about a past action based on unknown information.",
    explanationSpanish: "Arrepentimiento sobre una acción pasada basada en información desconocida.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-6",
    type: "multiple-choice",
    question: "If he _____ the truth, he _____ so angry.",
    options: ["had told/wouldn't have been", "told/wouldn't be", "had told/won't be", "tells/wouldn't have been"],
    correctAnswer: "had told/wouldn't have been",
    explanation: "Hypothetical past: different action → different emotion.",
    explanationSpanish: "Pasado hipotético: acción diferente → emoción diferente.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-7",
    type: "multiple-choice",
    question: "_____ you _____ if you _____ about the problem?",
    options: ["Would/have helped/had known", "Would/help/knew", "Will/have helped/had known", "Would/have helped/knew"],
    correctAnswer: "Would/have helped/had known",
    explanation: "Question form: Would + subject + have + PP, if + Past Perfect.",
    explanationSpanish: "Forma interrogativa: Would + sujeto + have + PP, if + Pasado Perfecto.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-full-8",
    type: "multiple-choice",
    question: "If the weather _____ better, we _____ the picnic.",
    options: ["had been/would have enjoyed", "was/would enjoy", "had been/would enjoy", "were/would have enjoyed"],
    correctAnswer: "had been/would have enjoyed",
    explanation: "Unreal past condition about weather affecting an event.",
    explanationSpanish: "Condición pasada irreal sobre el clima afectando un evento.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-could-1",
    type: "multiple-choice",
    question: "If I _____ more time, I _____ finished the project.",
    options: ["had had/could have", "had/could", "had had/could", "have/could have"],
    correctAnswer: "had had/could have",
    explanation: "Could have replaces would have to express past ability/possibility.",
    explanationSpanish: "Could have reemplaza would have para expresar habilidad/posibilidad pasada.",
    category: "third-conditional",
    difficulty: "hard"
  },
  {
    id: "b2-cond3-might-1",
    type: "multiple-choice",
    question: "If she _____ the medication, she _____ recovered faster.",
    options: ["had taken/might have", "took/might", "had taken/might", "takes/might have"],
    correctAnswer: "had taken/might have",
    explanation: "Might have for uncertain past results.",
    explanationSpanish: "Might have para resultados pasados inciertos.",
    category: "third-conditional",
    difficulty: "hard"
  },
];

// MIXED CONDITIONALS - Combining different time references
export const b2MixedConditionalsExercises: GrammarExercise[] = [
  {
    id: "b2-mixed-type1",
    type: "multiple-choice",
    question: "If I _____ Spanish, I _____ for that job now. (general → present)",
    options: ["spoke/would apply", "had spoken/would apply", "spoke/would have applied", "speak/will apply"],
    correctAnswer: "spoke/would apply",
    explanation: "Type 2 if-clause (unreal present ability) + Type 2 result (unreal present).",
    explanationSpanish: "Cláusula if Tipo 2 (habilidad presente irreal) + resultado Tipo 2 (presente irreal).",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type2",
    type: "multiple-choice",
    question: "If he _____ the lottery last year, he _____ rich now. (past → present)",
    options: ["had won/would be", "won/would be", "had won/would have been", "wins/would be"],
    correctAnswer: "had won/would be",
    explanation: "Type 3 if-clause (unreal past) + Type 2 result (unreal present consequence).",
    explanationSpanish: "Cláusula if Tipo 3 (pasado irreal) + resultado Tipo 2 (consecuencia presente irreal).",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type3",
    type: "multiple-choice",
    question: "If I _____ more ambitious, I _____ that opportunity. (general → past)",
    options: ["were/would have taken", "was/would take", "were/would take", "had been/would have taken"],
    correctAnswer: "were/would have taken",
    explanation: "Type 2 if-clause (general character trait) + Type 3 result (past outcome).",
    explanationSpanish: "Cláusula if Tipo 2 (rasgo de carácter general) + resultado Tipo 3 (resultado pasado).",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type4",
    type: "multiple-choice",
    question: "If she _____ the job offer, she _____ happier now.",
    options: ["had accepted/would be", "accepted/would be", "had accepted/would have been", "accepts/will be"],
    correctAnswer: "had accepted/would be",
    explanation: "Past decision affecting present state.",
    explanationSpanish: "Decisión pasada afectando estado presente.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type5",
    type: "multiple-choice",
    question: "If I _____ a better student, I _____ gotten into that university.",
    options: ["were/would have", "was/would", "had been/would have", "am/would have"],
    correctAnswer: "were/would have",
    explanation: "Present characteristic affecting past outcome.",
    explanationSpanish: "Característica presente afectando resultado pasado.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type6",
    type: "multiple-choice",
    question: "If we _____ in Paris, we _____ able to visit the Louvre yesterday.",
    options: ["lived/would have been", "had lived/would be", "lived/would be", "live/would have been"],
    correctAnswer: "lived/would have been",
    explanation: "General living situation (present unreal) → past opportunity.",
    explanationSpanish: "Situación general de vivienda (presente irreal) → oportunidad pasada.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type7",
    type: "multiple-choice",
    question: "If I _____ so tired all the time, I _____ more last night.",
    options: ["weren't/would have exercised", "wasn't/would exercise", "hadn't been/would exercise", "weren't/would exercise"],
    correctAnswer: "weren't/would have exercised",
    explanation: "Present state (being tired) affecting past action.",
    explanationSpanish: "Estado presente (estar cansado) afectando acción pasada.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type8",
    type: "multiple-choice",
    question: "If they _____ the contract last month, they _____ in trouble now.",
    options: ["hadn't signed/wouldn't be", "didn't sign/wouldn't be", "hadn't signed/wouldn't have been", "don't sign/won't be"],
    correctAnswer: "hadn't signed/wouldn't be",
    explanation: "Past action (signing) affecting present situation.",
    explanationSpanish: "Acción pasada (firmar) afectando situación presente.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type9",
    type: "multiple-choice",
    question: "If she _____ so stubborn, she _____ to her parents' advice years ago.",
    options: ["weren't/would have listened", "wasn't/would listen", "hadn't been/would have listened", "isn't/would have listened"],
    correctAnswer: "weren't/would have listened",
    explanation: "Permanent personality trait affecting past behavior.",
    explanationSpanish: "Rasgo de personalidad permanente afectando comportamiento pasado.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
  {
    id: "b2-mixed-type10",
    type: "multiple-choice",
    question: "If he _____ the accident, he _____ able to play football now.",
    options: ["hadn't had/would be", "didn't have/would be", "hadn't had/would have been", "doesn't have/will be"],
    correctAnswer: "hadn't had/would be",
    explanation: "Past event affecting present ability.",
    explanationSpanish: "Evento pasado afectando habilidad presente.",
    category: "mixed-conditionals",
    difficulty: "hard"
  },
];

// PAST PERFECT - Earlier past actions
export const b2PastPerfectExercises: GrammarExercise[] = [
  {
    id: "b2-pp-seq-1",
    type: "multiple-choice",
    question: "When I arrived at the station, the train _____ already _____.",
    options: ["had/left", "has/left", "was/leaving", "have/left"],
    correctAnswer: "had/left",
    explanation: "Past Perfect for action completed before another past action.",
    explanationSpanish: "Pasado Perfecto para acción completada antes de otra acción pasada.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-seq-2",
    type: "multiple-choice",
    question: "She told me she _____ to that restaurant before.",
    options: ["had been", "has been", "was", "went"],
    correctAnswer: "had been",
    explanation: "Reported past experience uses Past Perfect.",
    explanationSpanish: "Experiencia pasada reportada usa Pasado Perfecto.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-seq-3",
    type: "multiple-choice",
    question: "I _____ the book before I watched the movie.",
    options: ["had read", "have read", "read", "was reading"],
    correctAnswer: "had read",
    explanation: "First action (reading) = Past Perfect; second action = Past Simple.",
    explanationSpanish: "Primera acción (leer) = Pasado Perfecto; segunda acción = Pasado Simple.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-seq-4",
    type: "multiple-choice",
    question: "By the time we got there, the concert _____.",
    options: ["had started", "has started", "started", "was starting"],
    correctAnswer: "had started",
    explanation: "By the time = before that moment → Past Perfect.",
    explanationSpanish: "By the time = antes de ese momento → Pasado Perfecto.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-seq-5",
    type: "multiple-choice",
    question: "He didn't recognize me because I _____ a lot of weight.",
    options: ["had lost", "have lost", "lost", "was losing"],
    correctAnswer: "had lost",
    explanation: "The weight loss happened before the non-recognition.",
    explanationSpanish: "La pérdida de peso ocurrió antes del no reconocimiento.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-seq-6",
    type: "multiple-choice",
    question: "After she _____ dinner, she went to bed.",
    options: ["had finished", "has finished", "finished", "was finishing"],
    correctAnswer: "had finished",
    explanation: "After + Past Perfect emphasizes the sequence clearly.",
    explanationSpanish: "After + Pasado Perfecto enfatiza la secuencia claramente.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-never-1",
    type: "multiple-choice",
    question: "It was the first time I _____ sushi.",
    options: ["had tried", "have tried", "tried", "was trying"],
    correctAnswer: "had tried",
    explanation: "It was the first time + Past Perfect for first experiences.",
    explanationSpanish: "It was the first time + Pasado Perfecto para primeras experiencias.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-never-2",
    type: "multiple-choice",
    question: "She _____ never _____ such a beautiful sunset before that trip.",
    options: ["had/seen", "has/seen", "have/seen", "was/seeing"],
    correctAnswer: "had/seen",
    explanation: "Never + Past Perfect for experiences before a past moment.",
    explanationSpanish: "Never + Pasado Perfecto para experiencias antes de un momento pasado.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-report-1",
    type: "multiple-choice",
    question: "He said he _____ the project the day before.",
    options: ["had completed", "has completed", "completed", "completes"],
    correctAnswer: "had completed",
    explanation: "Reported speech: past action moves to Past Perfect.",
    explanationSpanish: "Discurso indirecto: acción pasada cambia a Pasado Perfecto.",
    category: "past-perfect",
    difficulty: "medium"
  },
  {
    id: "b2-pp-report-2",
    type: "multiple-choice",
    question: "They realized they _____ their passports at home.",
    options: ["had left", "have left", "left", "were leaving"],
    correctAnswer: "had left",
    explanation: "Realization (past) about earlier action (Past Perfect).",
    explanationSpanish: "Darse cuenta (pasado) sobre acción anterior (Pasado Perfecto).",
    category: "past-perfect",
    difficulty: "medium"
  },
];

// MODALS IN THE PAST - Deduction, regret, criticism
export const b2ModalsPastExercises: GrammarExercise[] = [
  {
    id: "b2-mod-must-1",
    type: "multiple-choice",
    question: "She _____ the train. She was at the station on time. (certain deduction)",
    options: ["must have caught", "can't have caught", "might have caught", "should catch"],
    correctAnswer: "must have caught",
    explanation: "Must have + PP = I'm certain this happened.",
    explanationSpanish: "Must have + PP = estoy seguro de que esto pasó.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-must-2",
    type: "multiple-choice",
    question: "He looks exhausted. He _____ all night.",
    options: ["must have worked", "can't have worked", "might work", "should work"],
    correctAnswer: "must have worked",
    explanation: "Must have for logical conclusions about the past.",
    explanationSpanish: "Must have para conclusiones lógicas sobre el pasado.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-cant-1",
    type: "multiple-choice",
    question: "She _____ the message. Her phone was off all day.",
    options: ["can't have received", "must have received", "might have received", "should receive"],
    correctAnswer: "can't have received",
    explanation: "Can't have + PP = I'm certain this didn't happen (impossible).",
    explanationSpanish: "Can't have + PP = estoy seguro de que esto no pasó (imposible).",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-cant-2",
    type: "multiple-choice",
    question: "They _____ the news already. I just heard it myself.",
    options: ["can't have heard", "must have heard", "might have heard", "should hear"],
    correctAnswer: "can't have heard",
    explanation: "Logical impossibility in the past.",
    explanationSpanish: "Imposibilidad lógica en el pasado.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-might-1",
    type: "multiple-choice",
    question: "I'm not sure where he went. He _____ to the library.",
    options: ["might have gone", "must have gone", "can't have gone", "should go"],
    correctAnswer: "might have gone",
    explanation: "Might have + PP = it's possible this happened (uncertain).",
    explanationSpanish: "Might have + PP = es posible que esto haya pasado (incierto).",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-might-2",
    type: "multiple-choice",
    question: "The package _____ yesterday. I'll check the tracking.",
    options: ["might have arrived", "must have arrived", "can't have arrived", "should arrive"],
    correctAnswer: "might have arrived",
    explanation: "Possibility about a past event.",
    explanationSpanish: "Posibilidad sobre un evento pasado.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-should-1",
    type: "multiple-choice",
    question: "You _____ so rude to her. Now she's upset. (criticism)",
    options: ["shouldn't have been", "should have been", "mustn't have been", "couldn't have been"],
    correctAnswer: "shouldn't have been",
    explanation: "Shouldn't have + PP = criticism about past action.",
    explanationSpanish: "Shouldn't have + PP = crítica sobre acción pasada.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-should-2",
    type: "multiple-choice",
    question: "I _____ the contract before signing. (regret)",
    options: ["should have read", "shouldn't have read", "must have read", "might have read"],
    correctAnswer: "should have read",
    explanation: "Should have + PP = regret about not doing something.",
    explanationSpanish: "Should have + PP = arrepentimiento por no hacer algo.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-could-1",
    type: "multiple-choice",
    question: "You _____ me! I would have helped you. (missed opportunity)",
    options: ["could have told", "couldn't have told", "must have told", "should tell"],
    correctAnswer: "could have told",
    explanation: "Could have + PP = you had the ability/opportunity but didn't use it.",
    explanationSpanish: "Could have + PP = tenías la habilidad/oportunidad pero no la usaste.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-could-2",
    type: "multiple-choice",
    question: "We _____ earlier, but we decided to stay longer.",
    options: ["could have left", "couldn't have left", "must have left", "should leave"],
    correctAnswer: "could have left",
    explanation: "Past ability/possibility that wasn't used.",
    explanationSpanish: "Habilidad/posibilidad pasada que no se usó.",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-neednt-1",
    type: "multiple-choice",
    question: "You _____ so much food. We have leftovers now.",
    options: ["needn't have bought", "must have bought", "should have bought", "couldn't have bought"],
    correctAnswer: "needn't have bought",
    explanation: "Needn't have + PP = it wasn't necessary (but you did it).",
    explanationSpanish: "Needn't have + PP = no era necesario (pero lo hiciste).",
    category: "modals-past",
    difficulty: "hard"
  },
  {
    id: "b2-mod-would-1",
    type: "multiple-choice",
    question: "I knew he _____ late. He's always late.",
    options: ["would be", "would have been", "will be", "must be"],
    correctAnswer: "would be",
    explanation: "Would for expected/predicted behavior in the past.",
    explanationSpanish: "Would para comportamiento esperado/predecido en el pasado.",
    category: "modals-past",
    difficulty: "hard"
  },
];

// REPORTED SPEECH - Statements, questions, commands
export const b2ReportedSpeechExercises: GrammarExercise[] = [
  {
    id: "b2-rep-state-1",
    type: "multiple-choice",
    question: "She said, 'I am tired.' → She said she _____ tired.",
    options: ["was", "is", "has been", "had been"],
    correctAnswer: "was",
    explanation: "Present Simple → Past Simple in reported speech.",
    explanationSpanish: "Presente Simple → Pasado Simple en discurso indirecto.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-state-2",
    type: "multiple-choice",
    question: "He said, 'I have finished.' → He said he _____.",
    options: ["had finished", "has finished", "finished", "was finishing"],
    correctAnswer: "had finished",
    explanation: "Present Perfect → Past Perfect in reported speech.",
    explanationSpanish: "Presente Perfecto → Pasado Perfecto en discurso indirecto.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-state-3",
    type: "multiple-choice",
    question: "They said, 'We will come.' → They said they _____.",
    options: ["would come", "will come", "came", "had come"],
    correctAnswer: "would come",
    explanation: "Will → Would in reported speech.",
    explanationSpanish: "Will → Would en discurso indirecto.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-state-4",
    type: "multiple-choice",
    question: "She said, 'I can swim.' → She said she _____ swim.",
    options: ["could", "can", "was able", "would"],
    correctAnswer: "could",
    explanation: "Can → Could in reported speech.",
    explanationSpanish: "Can → Could en discurso indirecto.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-state-5",
    type: "multiple-choice",
    question: "He said, 'I am going to buy a car.' → He said he _____ buy a car.",
    options: ["was going to", "is going to", "went to", "had gone to"],
    correctAnswer: "was going to",
    explanation: "Going to → Was/Were going to in reported speech.",
    explanationSpanish: "Going to → Was/Were going to en discurso indirecto.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-quest-1",
    type: "multiple-choice",
    question: "She asked, 'Where do you live?' → She asked me where I _____.",
    options: ["lived", "live", "was living", "had lived"],
    correctAnswer: "lived",
    explanation: "Reported questions: no question mark, normal word order, tense shift.",
    explanationSpanish: "Preguntas indirectas: sin signo de interrogación, orden normal, cambio de tiempo.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-quest-2",
    type: "multiple-choice",
    question: "He asked, 'Are you coming?' → He asked _____ I was coming.",
    options: ["if/whether", "that", "what", "how"],
    correctAnswer: "if/whether",
    explanation: "Yes/No questions use if/whether in reported speech.",
    explanationSpanish: "Preguntas Sí/No usan if/whether en discurso indirecto.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-quest-3",
    type: "multiple-choice",
    question: "They asked, 'What time does it start?' → They asked what time it _____.",
    options: ["started", "starts", "had started", "was starting"],
    correctAnswer: "started",
    explanation: "WH-questions: question word + normal order + tense shift.",
    explanationSpanish: "Preguntas WH: palabra interrogativa + orden normal + cambio de tiempo.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-cmd-1",
    type: "multiple-choice",
    question: "She said, 'Open the window.' → She told me _____ the window.",
    options: ["to open", "open", "opened", "opening"],
    correctAnswer: "to open",
    explanation: "Commands: told/asked + object + to-infinitive.",
    explanationSpanish: "Órdenes: told/asked + objeto + to-infinitivo.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-cmd-2",
    type: "multiple-choice",
    question: "He said, 'Don't be late.' → He told us _____ late.",
    options: ["not to be", "don't be", "to not be", "wasn't"],
    correctAnswer: "not to be",
    explanation: "Negative commands: told + not + to-infinitive.",
    explanationSpanish: "Órdenes negativas: told + not + to-infinitivo.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-time-1",
    type: "multiple-choice",
    question: "She said, 'I'll see you tomorrow.' → She said she would see me _____.",
    options: ["the next day", "tomorrow", "yesterday", "the day before"],
    correctAnswer: "the next day",
    explanation: "Tomorrow → the next day/the following day.",
    explanationSpanish: "Tomorrow → the next day/the following day.",
    category: "reported-speech",
    difficulty: "medium"
  },
  {
    id: "b2-rep-time-2",
    type: "multiple-choice",
    question: "He said, 'I saw her yesterday.' → He said he had seen her _____.",
    options: ["the day before", "yesterday", "the next day", "today"],
    correctAnswer: "the day before",
    explanation: "Yesterday → the day before/the previous day.",
    explanationSpanish: "Yesterday → the day before/the previous day.",
    category: "reported-speech",
    difficulty: "medium"
  },
];

// COMPLEX PASSIVE FORMS - Advanced passive structures
export const b2ComplexPassiveExercises: GrammarExercise[] = [
  {
    id: "b2-pass-perf-1",
    type: "multiple-choice",
    question: "The bridge _____ by the time we arrived.",
    options: ["had been completed", "has been completed", "was completed", "is completed"],
    correctAnswer: "had been completed",
    explanation: "Past Perfect Passive: had been + past participle.",
    explanationSpanish: "Pasivo Pasado Perfecto: had been + participio pasado.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-perf-2",
    type: "multiple-choice",
    question: "The report _____ several times before the final version.",
    options: ["had been revised", "has been revised", "was revised", "is revised"],
    correctAnswer: "had been revised",
    explanation: "Earlier past action in passive = Past Perfect Passive.",
    explanationSpanish: "Acción pasada anterior en pasiva = Pasivo Pasado Perfecto.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-cont-1",
    type: "multiple-choice",
    question: "The house _____ when we drove past.",
    options: ["was being painted", "is being painted", "has been painted", "was painted"],
    correctAnswer: "was being painted",
    explanation: "Past Continuous Passive: was/were being + past participle.",
    explanationSpanish: "Pasivo Pasado Continuo: was/were being + participio pasado.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-cont-2",
    type: "multiple-choice",
    question: "The road _____ when the accident happened.",
    options: ["was being repaired", "is being repaired", "has been repaired", "was repaired"],
    correctAnswer: "was being repaired",
    explanation: "Action in progress in the past (passive).",
    explanationSpanish: "Acción en progreso en el pasado (pasiva).",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-presperf-1",
    type: "multiple-choice",
    question: "The thief _____. The police are questioning him now.",
    options: ["has been caught", "had been caught", "was caught", "is caught"],
    correctAnswer: "has been caught",
    explanation: "Present Perfect Passive: has/have been + past participle.",
    explanationSpanish: "Pasivo Presente Perfecto: has/have been + participio pasado.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-presperf-2",
    type: "multiple-choice",
    question: "All the tickets _____ already.",
    options: ["have been sold", "had been sold", "were sold", "are sold"],
    correctAnswer: "have been sold",
    explanation: "Recent completion in passive = Present Perfect Passive.",
    explanationSpanish: "Completación reciente en pasiva = Pasivo Presente Perfecto.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-modal-1",
    type: "multiple-choice",
    question: "The decision _____ by the committee next week.",
    options: ["will be made", "is made", "was made", "has been made"],
    correctAnswer: "will be made",
    explanation: "Future Passive: will be + past participle.",
    explanationSpanish: "Pasivo Futuro: will be + participio pasado.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-modal-2",
    type: "multiple-choice",
    question: "This form _____ in black ink.",
    options: ["must be completed", "must complete", "must to be completed", "must been completed"],
    correctAnswer: "must be completed",
    explanation: "Modal + be + past participle for passive with modals.",
    explanationSpanish: "Modal + be + participio pasado para pasiva con modales.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-modal-3",
    type: "multiple-choice",
    question: "The project _____ by Friday.",
    options: ["should be finished", "should finish", "should been finished", "should to be finished"],
    correctAnswer: "should be finished",
    explanation: "Should + be + past participle.",
    explanationSpanish: "Should + be + participio pasado.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-inf-1",
    type: "multiple-choice",
    question: "He is said _____ very wealthy.",
    options: ["to be", "being", "be", "been"],
    correctAnswer: "to be",
    explanation: "Subject + is said/believed/known + to-infinitive.",
    explanationSpanish: "Sujeto + is said/believed/known + to-infinitivo.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-inf-2",
    type: "multiple-choice",
    question: "She is believed _____ left the country.",
    options: ["to have", "having", "have", "had"],
    correctAnswer: "to have",
    explanation: "For past actions: is said/believed + to have + past participle.",
    explanationSpanish: "Para acciones pasadas: is said/believed + to have + participio pasado.",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-impers-1",
    type: "multiple-choice",
    question: "It _____ that the company will close. (They say...)",
    options: ["is said", "said", "says", "has said"],
    correctAnswer: "is said",
    explanation: "Impersonal passive: It is said/believed/reported that...",
    explanationSpanish: "Pasiva impersonal: It is said/believed/reported that...",
    category: "complex-passive",
    difficulty: "hard"
  },
  {
    id: "b2-pass-impers-2",
    type: "multiple-choice",
    question: "It _____ that the new law will help the economy.",
    options: ["is expected", "expects", "expected", "is expecting"],
    correctAnswer: "is expected",
    explanation: "Impersonal passive for general beliefs/expectations.",
    explanationSpanish: "Pasiva impersonal para creencias/expectativas generales.",
    category: "complex-passive",
    difficulty: "hard"
  },
];

// WISH & REGRET - Wishes about present and past
export const b2WishRegretExercises: GrammarExercise[] = [
  {
    id: "b2-wish-pres-1",
    type: "multiple-choice",
    question: "I wish I _____ more money. (now)",
    options: ["had", "have", "would have", "having"],
    correctAnswer: "had",
    explanation: "Wish + Past Simple for unreal present situations.",
    explanationSpanish: "Wish + Pasado Simple para situaciones presentes irreales.",
    category: "wish-regret",
    difficulty: "medium"
  },
  {
    id: "b2-wish-pres-2",
    type: "multiple-choice",
    question: "I wish I _____ speak Japanese. (general ability)",
    options: ["could", "can", "would", "will"],
    correctAnswer: "could",
    explanation: "Wish + could for ability you don't have.",
    explanationSpanish: "Wish + could para habilidad que no tienes.",
    category: "wish-regret",
    difficulty: "medium"
  },
  {
    id: "b2-wish-past-1",
    type: "multiple-choice",
    question: "I wish I _____ to that party last night. (regret)",
    options: ["had gone", "went", "have gone", "would go"],
    correctAnswer: "had gone",
    explanation: "Wish + Past Perfect for regrets about the past.",
    explanationSpanish: "Wish + Pasado Perfecto para arrepentimientos sobre el pasado.",
    category: "wish-regret",
    difficulty: "hard"
  },
  {
    id: "b2-wish-past-2",
    type: "multiple-choice",
    question: "She wishes she _____ harder for the exam.",
    options: ["had studied", "studied", "has studied", "would study"],
    correctAnswer: "had studied",
    explanation: "Regret about past action that didn't happen.",
    explanationSpanish: "Arrepentimiento sobre acción pasada que no ocurrió.",
    category: "wish-regret",
    difficulty: "hard"
  },
  {
    id: "b2-wish-would-1",
    type: "multiple-choice",
    question: "I wish you _____ stop making that noise! (annoyance)",
    options: ["would", "will", "could", "can"],
    correctAnswer: "would",
    explanation: "Wish + would for annoying habits or requests for change.",
    explanationSpanish: "Wish + would para hábitos molestos o peticiones de cambio.",
    category: "wish-regret",
    difficulty: "medium"
  },
  {
    id: "b2-wish-would-2",
    type: "multiple-choice",
    question: "I wish it _____ rain so much. (frustration)",
    options: ["wouldn't", "won't", "doesn't", "didn't"],
    correctAnswer: "wouldn't",
    explanation: "Wish + wouldn't for frustration about things we can't control.",
    explanationSpanish: "Wish + wouldn't para frustración sobre cosas que no podemos controlar.",
    category: "wish-regret",
    difficulty: "medium"
  },
  {
    id: "b2-if-only-1",
    type: "multiple-choice",
    question: "If only I _____ what to say! (now)",
    options: ["knew", "know", "had known", "would know"],
    correctAnswer: "knew",
    explanation: "If only + Past Simple = I wish (stronger emphasis).",
    explanationSpanish: "If only + Pasado Simple = I wish (énfasis más fuerte).",
    category: "wish-regret",
    difficulty: "medium"
  },
  {
    id: "b2-if-only-2",
    type: "multiple-choice",
    question: "If only I _____ the truth earlier! (past regret)",
    options: ["had known", "knew", "know", "would know"],
    correctAnswer: "had known",
    explanation: "If only + Past Perfect for stronger regrets about the past.",
    explanationSpanish: "If only + Pasado Perfecto para arrepentimientos más fuertes sobre el pasado.",
    category: "wish-regret",
    difficulty: "hard"
  },
];

// Combine all B2 exercises
export const allB2CompleteExercises: GrammarExercise[] = [
  ...b2ThirdConditionalExercises,
  ...b2MixedConditionalsExercises,
  ...b2PastPerfectExercises,
  ...b2ModalsPastExercises,
  ...b2ReportedSpeechExercises,
  ...b2ComplexPassiveExercises,
  ...b2WishRegretExercises,
];

// Helper function to get B2 exercises by category
export function getB2CompleteExercisesByCategory(category: string): GrammarExercise[] {
  return allB2CompleteExercises.filter(ex => ex.category === category);
}

// Stats for B2
export const b2CompleteStats = {
  thirdConditional: b2ThirdConditionalExercises.length,
  mixedConditionals: b2MixedConditionalsExercises.length,
  pastPerfect: b2PastPerfectExercises.length,
  modalsPast: b2ModalsPastExercises.length,
  reportedSpeech: b2ReportedSpeechExercises.length,
  complexPassive: b2ComplexPassiveExercises.length,
  wishRegret: b2WishRegretExercises.length,
  total: allB2CompleteExercises.length
};
